!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=new fabric.Canvas("sketch"),i=540,o=300,l=20,c={bl:!1,br:!1,ml:!1,mr:!1,tl:!1,tr:!1},s=e=>{const t=e%l,n=10*Math.round(e/10);return t>l/2?n%l==0?n:n+l/2:e-t};function a(e,t){return{x:e,y:t}}var u=new class{constructor(){this.wall=[],this.circles=[]}draw(e,t){const n=s(e),i=s(t),o=new fabric.Circle({left:n-4,top:i-4,radius:4,strokeWidth:2,fill:"#ffc220"});this.circles.push(o),r.add(o),this.wall.push(new a(n,i)),2===this.wall.length&&this.build()}build(){const e=new fabric.Line([this.wall[0].x,this.wall[0].y,this.wall[1].x,this.wall[1].y],{stroke:"#262626"});e.setControlsVisibility(c),r.add(e),setTimeout(()=>this.circles.forEach(e=>r.remove(e)),500),this.wall=[]}clear(){this.wall=[],this.circles.forEach(e=>r.remove(e)),this.circles=[]}};const d=document.getElementById("wall"),f=document.getElementById("hand");r.setWidth(i),r.setHeight(o);const h={hand:!1,wall:!0,door:!1};function b(){Object.keys(h).forEach(e=>{h[e]=!1})}d.addEventListener("click",function(){b(),h.wall=!0}),f.addEventListener("click",function(){b(),u.clear(),h.hand=!0}),r.on("mouse:down",function(e){const{pointer:{x:t,y:n}}=e;h.wall&&u.draw(t,n)}),function(){let e=[],t=[];for(let t=l;t<o;t+=l)e.push(new fabric.Line([0,t,i,t],{stroke:"#d3d3d3"}));for(let e=l;e<i;e+=l)t.push(new fabric.Line([e,o,e,0],{stroke:"#d3d3d3"}));const n=new fabric.Group([...e,...t],{selectable:!1});r.add(n)}()}]);